<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Gerador de Logo - Donos do Negócio</title>
    <link rel="stylesheet" href="../css/style.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3676495749738944" crossorigin="anonymous"></script>
    <style>
        /* ESTILOS ESPECÍFICOS DO GERADOR */
        .logo-generator {
            max-width: 600px;
            margin: 2rem auto;
            padding: 2rem;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        
        .form-group input[type="text"], 
        .form-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .color-pickers {
            display: flex;
            gap: 1rem;
            margin-top: 0.5rem;
        }
        
        .modelos-container {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .thumbnail {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border: 2px solid #eee;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .thumbnail:hover, .thumbnail.active {
            border: 2px solid #4CAF50;
            transform: scale(1.05);
        }
        
        #preview {
            margin: 2rem 0;
            padding: 1.5rem;
            background: #f9f9f9;
            border-radius: 8px;
            text-align: center;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .btn-gerar {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
            display: block;
            width: 100%;
            max-width: 200px;
            margin: 20px auto 0;
        }
        
        .btn-gerar:hover {
            background: #45a049;
        }
        
        .texto-logo {
            position: absolute;
            text-align: center;
            width: 80%;
            max-width: 300px;
        }
        
        @media (max-width: 600px) {
            .color-pickers, .modelos-container {
                flex-direction: column;
            }
            .thumbnail {
                width: 100%;
                height: auto;
            }
        }

        /* Importação das fontes */
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Playfair+Display:wght@700&family=Pacifico&display=swap');
    </style>
    <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- ... (mantenha todo o head existente) ... -->
    <style>
        /* ADICIONE ISSO AO SEU CSS EXISTENTE */
        .preview-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .modelo-img {
            width: 100%;
            display: block;
        }
        
        .texto-container {
            position: absolute;
            width: 100%;
            text-align: center;
            transform: translate(-50%, -50%);
            left: 50%;
        }
        
        /* Posições específicas para cada modelo */
        .modelo1-texto { top: 40%; }
        .modelo2-texto { top: 65%; }
        .modelo3-texto { top: 50%; }
    </style>
    <!-- ... (mantenha o resto do HTML) ... -->

    <script>
        // Variáveis globais
        let modeloAtual = 1;
        let corTexto = '#ffffff';
        let corFundo = '#3498db'; // Nova variável para cor de fundo

        // Função para selecionar modelo
        function selecionarModelo(num) {
            modeloAtual = num;
            document.querySelectorAll('.thumbnail').forEach(img => {
                img.style.border = img.src.includes(`logo${num}.png`) 
                    ? '3px solid #4CAF50' 
                    : '2px solid #eee';
            });
            atualizarPreview();
        }

        // Função para atualizar a pré-visualização
        function atualizarPreview() {
            const nome = document.getElementById('nome').value || "Nome da Empresa";
            const slogan = document.getElementById('slogan').value;
            const fonte = document.getElementById('fonte').value;
            corTexto = document.getElementById('cor-texto').value;
            corFundo = document.getElementById('cor-fundo').value; // Novo campo

            const previewDiv = document.getElementById('preview');
            previewDiv.innerHTML = `
                <div class="preview-container">
                    <img src="modelos/logo${modeloAtual}.png" class="modelo-img"
                         style="background-color: ${modeloAtual === 2 ? corFundo : 'transparent'};">
                    <div class="texto-container modelo${modeloAtual}-texto"
                         style="color: ${corTexto}; font-family: ${fonte}">
                        <h1 style="margin:0; font-size: ${modeloAtual === 2 ? '1.8rem' : '2.2rem'};
                            ${corTexto === '#ffffff' ? 'text-shadow: 1px 1px 2px rgba(0,0,0,0.7);' : ''}">
                            ${nome}
                        </h1>
                        ${slogan ? `<p style="margin-top:8px; font-size:0.9rem;">${slogan}</p>` : ''}
                    </div>
                </div>
            `;
        }

        // Função para gerar e baixar a logo
        function gerarLogo() {
            const previewDiv = document.getElementById('preview');
            
            html2canvas(previewDiv).then(canvas => {
                const nome = document.getElementById('nome').value || "logo";
                const link = document.createElement('a');
                link.download = `logo-${nome.replace(/\s+/g, '-').toLowerCase()}.png`;
                link.href = canvas.toDataURL();
                link.click();
            });
        }

        // Inicialização
        document.addEventListener('DOMContentLoaded', function() {
            // Adicione este novo campo ao seu HTML:
            const novoCampo = `
                <div class="form-group">
                    <label for="cor-fundo">Cor do Fundo (Modelo 2):</label>
                    <input type="color" id="cor-fundo" value="#3498db">
                </div>
            `;
            document.querySelector('.logo-generator').insertAdjacentHTML('beforeend', novoCampo);
            
            // Atualize os listeners
            const campos = ['nome', 'slogan', 'fonte', 'cor-texto', 'cor-fundo'];
            campos.forEach(id => {
                document.getElementById(id).addEventListener('input', atualizarPreview);
            });
            
            // Carrega a biblioteca html2canvas
            const script = document.createElement('script');
            script.src = 'https://html2canvas.hertzen.com/dist/html2canvas.min.js';
            document.head.appendChild(script);
            
            // Inicializa o primeiro modelo
            selecionarModelo(1);
        });
    </script>
</head>
<body>
    <header>
        <h1>DONOS DO NEGÓCIO</h1>
    </header>
    
    <div class="container">
        <nav class="menu-lateral">
            <div class="opcao">
                <a href="/index.html">INÍCIO</a>
            </div>
            <div class="opcao">
                <a href="/artigos/artigo1.html">ARTIGOS</a>
            </div>
            <div class="opcao">
                <a href="/Download/Download.html">DOWNLOAD</a>
            </div>
            <div class="opcao">
                <a href="/calculadora/calculadora.html">CALCULADORA</a>
            </div>
            <div class="opcao">
                <a href="/geradordelogo/logo.html">Crie sua Logo</a>
            </div>
        </nav>
        
        <main>
            <section class="logo-generator">
                <h2>Crie sua Logo Grátis</h2>
                
                <div class="form-group">
                    <label for="nome">Nome da Empresa:</label>
                    <input type="text" id="nome" placeholder="Ex: Padaria Estrela">
                </div>
                
                <div class="form-group">
                    <label for="slogan">Slogan (opcional):</label>
                    <input type="text" id="slogan" placeholder="Ex: O melhor pão da região">
                </div>
                
                <div class="form-group">
                    <label for="fonte">Fonte do Texto:</label>
                    <select id="fonte">
                        <option value="'Montserrat', sans-serif">Moderno (Montserrat)</option>
                        <option value="'Playfair Display', serif">Elegante (Playfair)</option>
                        <option value="'Pacifico', cursive">Criativo (Pacifico)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="cor-texto">Cor do Texto:</label>
                    <input type="color" id="cor-texto" value="#ffffff">
                </div>
                
                <div class="form-group">
                    <label>Modelo de Logo:</label>
                    <div class="modelos-container">
                        <img src="modelos/logo1.png" onclick="selecionarModelo(1)" class="thumbnail" alt="Modelo 1">
                        <img src="modelos/logo2.png" onclick="selecionarModelo(2)" class="thumbnail" alt="Modelo 2">
                        <img src="modelos/logo3.png" onclick="selecionarModelo(3)" class="thumbnail" alt="Modelo 3">
                    </div>
                </div>
                
                <button class="btn-gerar" onclick="gerarLogo()">Baixar Logo</button>
                
                <div id="preview">
                    <!-- Preview será gerado aqui -->
                </div>
            </section>
        </main>
    </div>
    
    <footer>
        <p>Para serviço personalizado, entre em contato pelo WhatsApp:<br>
        <strong>Juliana Batista - (88) 98831-4077</strong></p>
    </footer>
    
    <script src="https://unpkg.com/dom-to-image@2.6.0/dist/dom-to-image.min.js"></script>
    <script>
        let modeloAtual = 1; // Modelo padrão
        
        // Função para selecionar modelo
        function selecionarModelo(num) {
            modeloAtual = num;
            
            // Atualiza visualização dos thumbnails
            document.querySelectorAll('.thumbnail').forEach((img, index) => {
                if (index + 1 === num) {
                    img.classList.add('active');
                } else {
                    img.classList.remove('active');
                }
            });
            
            // Atualiza preview
            atualizarPreview();
            function atualizarPreview() {
    const nome = document.getElementById('nome').value || "Nome da Empresa";
    const slogan = document.getElementById('slogan').value;
    const fonte = document.getElementById('fonte').value;
    const corTexto = document.getElementById('cor-texto').value;

    const previewDiv = document.getElementById('preview');
    
    // Configurações específicas por modelo
    const configModelos = {
        1: { top: '50%', left: '50%', fontSize: '2.2rem', sloganTop: '8px' },  // Modelo 1
        2: { top: '55%', left: '50%', fontSize: '1.8rem', sloganTop: '6px' },  // Modelo 2
        3: { top: '60%', left: '50%', fontSize: '2rem', sloganTop: '10px' }    // Modelo 3
    };
    
    const config = configModelos[modeloAtual];

    previewDiv.innerHTML = `
        <img src="modelos/logo${modeloAtual}.png" style="width:100%; max-width:400px;">
        <div class="texto-logo" style="
            font-family: ${fonte};
            color: ${corTexto};
            top: ${config.top};
            left: ${config.left};
            transform: translate(-50%, -50%);
            width: 80%;
        ">
            <h1 style="
                margin:0; 
                font-size: ${config.fontSize};
                ${corTexto === '#ffffff' ? 'text-shadow: 1px 1px 3px rgba(0,0,0,0.5);' : ''}
            ">
                ${nome}
            </h1>
            ${slogan ? `
            <p style="
                margin-top:${config.sloganTop};
                font-size:0.9rem;
                color: ${corTexto}
            ">
                ${slogan}
            </p>` : ''}
        </div>
    `;
}
            
        }
        
        // Função para atualizar a pré-visualização
        function atualizarPreview() {
            const nome = document.getElementById('nome').value || "Nome da Empresa";
            const slogan = document.getElementById('slogan').value;
            const fonte = document.getElementById('fonte').value;
            const corTexto = document.getElementById('cor-texto').value;
            
            const previewDiv = document.getElementById('preview');
            previewDiv.innerHTML = `
                <img src="modelos/logo${modeloAtual}.png" style="width:100%; max-width:400px;">
                <div class="texto-logo" style="
                    font-family: ${fonte};
                    color: ${corTexto};
                    ${modeloAtual === 3 ? 'top: 65%;' : 'top: 50%;'}
                    transform: translate(-50%, -50%);
                ">
                    <h1 style="margin:0; font-size: ${modeloAtual === 2 ? '1.8rem' : '2.2rem'}; 
                        ${corTexto === '#ffffff' ? 'text-shadow: 1px 1px 3px rgba(0,0,0,0.5);' : ''}">
                        ${nome}
                    </h1>
                    ${slogan ? `<p style="margin-top:8px; font-size:0.9rem;">${slogan}</p>` : ''}
                </div>
            `;
        }
        
        // Função para gerar e baixar a logo
        function gerarLogo() {
            const previewDiv = document.getElementById('preview');
            
            domtoimage.toPng(previewDiv)
                .then(function(dataUrl) {
                    const nome = document.getElementById('nome').value || "logo";
                    const link = document.createElement('a');
                    link.download = `logo-${nome.replace(/\s+/g, '-').toLowerCase()}.png`;
                    link.href = dataUrl;
                    link.click();
                })
                .catch(function(error) {
                    console.error('Erro ao gerar imagem:', error);
                    alert('Ocorreu um erro. Recarregue a página e tente novamente!');
                });
        }
        
        // Atualiza preview quando qualquer campo muda
        document.addEventListener('DOMContentLoaded', function() {
            // Seleciona o primeiro modelo por padrão
            selecionarModelo(1);
            
            // Adiciona listeners para todos os campos
            const campos = ['nome', 'slogan', 'fonte', 'cor-texto'];
            campos.forEach(id => {
                document.getElementById(id).addEventListener('input', atualizarPreview);
            });
        });
    </script>
</body>
</html>
